## π― μ½μ„νΈ λ€κΈ°μ—΄ μ‹μ¤ν… λ™μ‹μ„± μ΄μ ν•΄κ²° λ°©μ• λ³΄κ³ μ„

### 1. λ™μ‹μ„± μ μ–΄λ¥Ό μ„ν• λ½ κ°μ”

- **λ‚™κ΄€μ  λ½ (Optimistic Lock)**  
  λ°μ΄ν„° μ¶©λ κ°€λ¥μ„±μ΄ λ‚®λ‹¤κ³  κ°€μ •ν•κ³  νΈλμ­μ… μν–‰.  
  νΈλμ­μ… μΆ…λ£ μ‹μ μ— λ²„μ „μ„ λΉ„κµν•μ—¬ μ¶©λ μ—¬λ¶€λ¥Ό νλ‹¨.  
  μ¶©λ μ‹ λ΅¤λ°± μ²λ¦¬. μ„±λ¥μƒ μ΄μ μ΄ μμ.
- **λΉ„κ΄€μ  λ½ (Pessimistic Lock)**  
  λ°μ΄ν„° μ¶©λ κ°€λ¥μ„±μ΄ λ†’λ‹¤κ³  κ°€μ •ν•κ³ , μμ› μ ‘κ·Ό μ‹μ μ— λ½μ„ κ±΄λ‹¤.  
  λ‹¤λ¥Έ νΈλμ­μ…μ€ λ½ ν•΄μ  μ „κΉμ§€ λ€κΈ°. μ•μ •μ„±μ€ λ†’μ§€λ§ μ„±λ¥ μ €ν• κ°€λ¥.
---

### 2. λΉ„μ¦λ‹μ¤ μ”κµ¬μ‚¬ν•­ λ° λ™μ‹μ„± μ΄μ

#### 2-1. μ‹μ¤ν… κ°μ”
λ³Έ μ‹μ¤ν…μ€ μ½μ„νΈ λ€κΈ°μ—΄ κΈ°λ° μμ•½ μ‹μ¤ν…μΌλ΅, **λ‹¤μμ κ³ κ°μ΄ λ™μ‹μ— μΆμ„ μμ•½ λ° ν¬μΈνΈ μ¶©μ „ μ”μ²­μ„ μν–‰**ν•¨. μ΄μ— λ”°λΌ μμ› μ¶©λ κ°€λ¥μ„±μ΄ λ†’μ.
#### 2-2. μ”κµ¬μ‚¬ν•­
- **μΆμ„ μ μ **: ν•λ‚μ μΆμ„μ— ν• λ…λ§ μμ•½ κ°€λ¥. λ™μ‹ μ”μ²­ μ‹, 1κ±΄λ§ μ„±κ³µ, λ‚λ¨Έμ§€λ” μ‹¤ν¨ν•΄μ•Ό ν•¨.
- **ν¬μΈνΈ μ¶©μ „**: λ™μΌ ν¬μΈνΈ μμ›μ— μ¤‘λ³µ μ¶©μ „μ΄ λ°μƒν•μ§€ μ•μ•„μ•Ό ν•¨. λ™μ‹μ— μ—¬λ¬ μ”μ²­μ΄ μ™€λ„, λ‹¨ 1νλ§ μ¶©μ „ μ²λ¦¬λμ–΄μ•Ό ν•¨.
---

### 3. μ μ© μ „λµ λ° ν…μ¤νΈ κ²°κ³Ό

#### 3-1. μΆμ„ μ μ 

- **μ μ© λ½**: λ‚™κ΄€μ  λ½ (JPA @Version ν™μ©)
- **μ΄κΈ° μ‹λ„**: λΉ„κ΄€μ  λ½ μ‚¬μ© β†’ μ„±κ³µμ€ 1κ±΄μ΄μ§€λ§, 999κ±΄μ μ‹¤ν¨ μ”μ²­λ„ λ€κΈ°ν•μ—¬ μ „μ²΄ μ²λ¦¬ μ‹κ°„μ΄ 5~8μ΄ μ†μ”λ¨.
- **κ°μ„  μ μ©**: λ‚™κ΄€μ  λ½μΌλ΅ μ „ν™ β†’ μ‹¤ν¨ μ”μ²­μ΄ λ€κΈ° μ—†μ΄ λΉ λ¥΄κ² μΆ…λ£λ¨ β†’ μ‚¬μ©μ μ¬μ‹λ„ μ λ„ κ°€λ¥
- **κ²°λ΅ **: λΉ λ¥Έ ν”Όλ“λ°±κ³Ό μ„±λ¥ μΈ΅λ©΄μ—μ„ λ‚™κ΄€μ  λ½μ΄ μ ν•©
#### 3-2. ν¬μΈνΈ μ¶©μ „

- **μ μ© λ½**: λ‚™κ΄€μ  λ½
- **μ”κµ¬μ‚¬ν•­**: ν•λ‚μ μ”μ²­λ§ μ„±κ³µν•κ³  λ‚λ¨Έμ§€λ” λ¬΄μ΅°κ±΄ μ‹¤ν¨ν•΄μ•Ό ν•¨
- **λΉ„κ΄€μ  λ½ μ‚¬μ© μ‹**: λ¨λ“  μ”μ²­μ΄ μμ°¨μ μΌλ΅ μ²λ¦¬λμ–΄ μ¶©μ „μ΄ μ¤‘λ³µ λ°μƒ β†’ μ”κµ¬μ‚¬ν•­κ³Ό λ¶μΌμΉ
- **λ‚™κ΄€μ  λ½ μ‚¬μ© μ‹**: λ²„μ „ μ¶©λλ΅ μΈν•΄ μ¤‘λ³µ μ¶©μ „ μ—†μ΄ λ‹¨ 1κ±΄λ§ μ²λ¦¬λ¨ β†’ μ”κµ¬μ‚¬ν•­ μ¶©μ΅±
- **κ²°λ΅ **: λ‚™κ΄€μ  λ½μ΄ μ”κµ¬μ‚¬ν•­μ— κ°€μ¥ μ ν•©

|μ „λµ|μ“°λ λ“ν’€|μ“°λ λ“ μ|μ„±κ³µ|μ‹¤ν¨|ν‰κ·  μ‘λ‹µ μ‹κ°„|
|---|---|---|---|---|---|
|λ‚™κ΄€μ  λ½|100|1000|340|660|150ms|
||10|1000|338|662|15ms|
||1000|1000|338|662|808ms|
|λΉ„κ΄€μ  λ½|100|1000|1000|0|223ms|
||10|1000|1000|0|23ms|
||1000|1000|1000|0|1280ms|

---
### 4. κ²°λ΅  λ° μ μ© λ²”μ„

|κΈ°λ¥|μ”κµ¬μ‚¬ν•­ μ”μ•½|μ μ© λ½|λ½ λ²”μ„|
|---|---|---|---|
|μΆμ„ μ μ |1μΆμ„ 1μμ•½, μ‹¤ν¨λ” λΉ λ¥΄κ² μ²λ¦¬λμ–΄μ•Ό ν•¨|λ‚™κ΄€μ  λ½|μΆμ„ λ‹¨μ„|
|ν¬μΈνΈ μ¶©μ „|μ¤‘λ³µ μ—†μ΄ λ‹¨ 1κ±΄λ§ μ²λ¦¬λμ–΄μ•Ό ν•¨|λ‚™κ΄€μ  λ½|μ‚¬μ©μ ν¬μΈνΈ λ‹¨μ„|

- **λΉ„κ΄€μ  λ½μ€ λ¨λ“  μ”μ²­ μ²λ¦¬ λ³΄μ¥μ΄λΌλ” μ¥μ μ΄ μμΌλ‚**, λ³Έ μ‹μ¤ν…μ μ”κµ¬μ‚¬ν•­μ—μ„λ” λ‚™κ΄€μ  λ½μ΄ λ” μ ν•©ν•λ‹¤κ³  νλ‹¨
- **λ½ λ²”μ„λ” μµμ†ν™”ν•μ—¬ μ„±λ¥μ„ κ³ λ ¤ν•΄ μ„¤μ •ν•¨**